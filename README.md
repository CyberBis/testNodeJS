# Предисловие

Для начала нам стоит понять что нам понадобится для запуск анашего проекта и связанных с ним тестов, это программа Visual Studio Code, программа Node.js(включает в себя npm), пакетный менеджер npm либо yarn, а так же фреймворк jest

# Инструкция по установке

Опустим установку и настройку VSC, вы уже умелые ребята и дання программа должна быть у вас установлена по умолчанию (либо любая другая аналогичная программа, далее мы работаем в VSC), далее нам нужно перейти на официальный сайт https://nodejs.org/en/download/ и установить программу Node.js

# Инструкция по настройке

И так нам стоит начать с того, что стоит посмотреть какая версия Node.js у вас установлена, для этого переходим в терминал в программе VSC и прописываем команду node -v, далее я буду говорить о пакетном менеджере npm, мы прописываем в терминале команду npm init и заполняем поля необходимыми данными, например:

```
  "name": "testsession",
  "version": "1.0.0",
  "description": "project for testing",
  "main": "index.js",
  "scripts": {
    "test": "jest"
  },
  "repository": {
    "type": "git",
    "url": "git+https://github.com/CyberBis/testNodeJS.git"
  },
  "keywords": [
    "test",
    "js"
  ],
  "author": "Stefan Kazantsev <tefka@gmail.com>",
  "license": "ISC",
  "bugs": {
    "url": "https://github.com/CyberBis/testNodeJS/issues"
  },
  "homepage": "https://github.com/CyberBis/testNodeJS#readme",
  "devDependencies": {
    "jest": "^29.2.2"
  }
```

На выходе мы получаем файл package.json

И так, далее нам будет необходимо ввести команду npm install --save-dev jest в наш терминал для того чтобы установить наш фреймворк jest, после применения данной команды у нас появится два дополнительных файла node_modules и package-lock.json

Заранее следует отредактировать файл package.json вместо содержимого объекта test:... нужно изменить содержимое на test: jest
чтобы была возможность запустить наш тест из командной строки терминала

# Инструкция для запуска нашего проекта и тестов

После всего что мы сделали нам лишь остается создать файл формата .js (например size.js) поместить внутри него содержимое с данными, будь то массив, функция, переменные и т.д, т.е. задать общую коснтрукцию а также прописать условия экспорта (module.exports = значение (наш массив, функция и т.д.)) , далее для создания условий и работы непосредственно с тестами нам нужно создать одноименный файл формата .test.js или .spec.js (например size.test.js или size.spec.js) далее при работе в файле формата .test.js мы вновь задаем наше значение с тем же названием (массив, функция и т.д. что и в файле .js) и прописываем путь до нашего файла с помощью метода require('') например:

```
const calculateBonus = require("./debugg");
```

далее нужно усвоить как правильно использовать еще два метода

##### describe

метод Jest, который содержит в себе тест или наборы тестов,
принимает на вход два аргумента: название набора тестов и callback-функцию

##### it/test

метод, содержащий в себе отдельный тест, принимает на вход два
аргумента: название теста и callback-функцию

##### А также В тесте оборачиваем тестируемую функцию в expect и вызываем проверку matchers (toBe, toEqual,...):

например

```
describe("Тестирование переменной calculateBonus", () => {
  it("Суммирование положительных чисел, равное ожидаемому числу", () => {
    expect(calculateBonus(1000, 1)).toBe(50);
  });
```

далее для запуска наших тестов нам нужно прописать команду в терминал npm run test и мы получим итоги тестов в нашем терминале, спасибо за внимание)

# Описание работы измерения покрытия кода

Покрытие кода представляет собой, показатель того какая часть исходного кода охвачена тестами. Этот полезный показатель позволяет оценить качество комплекта тестов

### Показатели покрытия кода

- Покрытие функций - сколько объявленных функций было вызвано
- Покрытие операторов - какая доля содержащихся в программе операторов была выполнена
- Покрытие веток - сколько выполнено веток контрольной структуры (например операторов if)
- Покрытие строк - сколько строк исходного кода протестировано

### Как настраивать?

При условии что мы используем jest и npm, обратимся к командам, которые позволят нам провести измерение покрытия кода, для начала нам нужно обратиться за помощью на сайт https://jestjs.io/ чтобы найти нужную информацию, таковой информацией будет команда babel-plugin-istanbul, но нельзя забывать что мы используем npm, поэтому для получения нужной нам команды следует отправиться на сайт https://www.npmjs.com/ там поискав нужную нам информацию мы узнаем о коде который нам нужно будет применить в нашем терминале и это код npm install --save-dev babel-plugin-istanbul, благодаря данной команде мы подключаем нужный нам плагин, после ввода команды наши файлы package-lock.json и package.json, обновятся и в них добавятся новые параметры например

```
"babel-plugin-istanbul": "^6.1.1"
```

### Как запускать?

Для того чтобы запустить данный процесс, стоит воспользоваться командой npx jest --coverage, в итоге мы должны получить в терминале вот такую информацию

![Пример](/D_drive/Screenshot_3.jpg)

Также после проведения данного процесса, добавится новая папка coverage с дополнительной информацией по нашему покрытию
